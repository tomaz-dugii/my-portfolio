---
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import Icon from './icons/Icon.astro';

interface Props {
  name: string;
  subtitle: string;
  jobTitle: string;
  profileImage: string;
}

const { name, jobTitle, profileImage, subtitle }: Props = Astro.props;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const mail: string = 'tomaz.starasinic@gmail.com';
const github: string = 'https://github.com/tomaz-dugii';
const linkedin: string = 'https://www.linkedin.com/in/tomaz-starasinic/';
---

<section
  class="min-h-[90vh] flex items-center px-4 sm:px-6 lg:px-8 relative overflow-hidden bg-bg-primary dark:bg-bg-primary"
>
  <!-- Subtle grid pattern -->
  <div
    class="absolute inset-0 opacity-[0.4] dark:opacity-[0.15]"
    style="background-image: linear-gradient(to right, rgb(148 163 184 / 0.15) 1px, transparent 1px), linear-gradient(to bottom, rgb(148 163 184 / 0.15) 1px, transparent 1px); background-size: 48px 48px;"
  ></div>

  <div class="max-w-6xl mx-auto relative w-full">
    <div class="grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-12 lg:gap-16 items-center">
      <!-- Content (2/3) -->
      <div class="flex flex-col items-center lg:items-start text-center lg:text-left order-2 lg:order-1">
        <p class="text-sm font-medium text-primary-500 dark:text-primary-400 uppercase tracking-wider mb-3">
          {jobTitle}
        </p>
        <h1 class="font-display text-4xl sm:text-5xl lg:text-6xl font-bold text-text-primary tracking-tight mb-4">
          {name}
        </h1>
        <p class="text-lg text-text-tertiary max-w-xl mb-8">
          {subtitle}
        </p>

        <div class="flex flex-wrap gap-3 justify-center lg:justify-start">
          <a
            href={`mailto:${mail}`}
            class="inline-flex items-center gap-2 px-5 py-2.5 bg-primary-500 text-white font-medium rounded-lg hover:bg-primary-600 transition-colors"
          >
            <Icon name="Mail" size={18} />
            {t('cta.primaryButton')}
          </a>
          <a
            href="#experience"
            class="inline-flex items-center gap-2 px-5 py-2.5 border border-border-default text-text-primary font-medium rounded-lg hover:bg-bg-tertiary dark:hover:bg-bg-secondary transition-colors"
          >
            {t('nav.experience')}
          </a>
        </div>

        <div class="flex flex-wrap justify-center lg:justify-start gap-6 mt-10 text-sm text-text-tertiary">
          <a href={`mailto:${mail}`} class="flex items-center gap-2 hover:text-primary-500 transition-colors">
            <Icon name="Mail" size={16} />
            {mail}
          </a>
          <div class="flex items-center gap-2">
            <Icon name="MapPin" size={16} />
            {t('hero.location')}
          </div>
          <a href={github} target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 hover:text-primary-500 transition-colors">
            <Icon name="Github" size={16} />
            {t('hero.github')}
          </a>
          <a href={linkedin} target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 hover:text-primary-500 transition-colors">
            <Icon name="Linkedin" size={16} />
            {t('hero.linkedin')}
          </a>
        </div>
      </div>

      <!-- Profile image (1/3) -->
      <div class="flex justify-center lg:justify-end lg:order-2">
        <div class="relative">
          <div class="absolute -inset-1 bg-primary-500/20 dark:bg-primary-500/30 rounded-2xl blur-xl"></div>
          <div class="relative w-48 h-48 sm:w-56 sm:h-56 lg:w-64 lg:h-64 rounded-2xl overflow-hidden ring-1 ring-border-default">
            <img
              src={profileImage}
              alt="Profile photo"
              class="w-full h-full object-cover object-center"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
