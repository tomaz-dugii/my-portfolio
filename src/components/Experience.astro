---
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import Icon from './icons/Icon.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<!-- Work Experience -->
<section id="experience" class="py-16 sm:py-24 bg-bg-secondary dark:bg-bg-secondary">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center gap-3 mb-12">
      <div class="p-2 rounded-lg bg-primary-500/10 dark:bg-primary-500/20">
        <Icon name="Briefcase" size={24} class="text-primary-500" />
      </div>
      <h2 class="font-display text-2xl sm:text-3xl font-bold text-text-primary">
        {t('experience.title')}
      </h2>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <article class="group relative p-6 rounded-xl border border-border-default bg-bg-primary dark:bg-bg-primary hover:border-primary-500/30 dark:hover:border-primary-500/30 transition-colors">
        <div class="absolute left-6 top-6 w-1 h-12 rounded-full bg-primary-500/60 group-hover:bg-primary-500 transition-colors"></div>
        <div class="pl-4">
          <h3 class="font-display text-xl font-semibold text-text-primary mb-1">
            {t('experience.bplanet.title')}
          </h3>
          <p class="text-sm text-text-tertiary mb-4">BPLANET d.o.o. / 2026 -</p>
          <ul class="list-disc list-inside list-indent space-y-1.5 text-sm text-text-secondary">
            <li>{t('experience.bplanet.description1')}</li>
            <li>{t('experience.bplanet.description2')}</li>
            <li>{t('experience.bplanet.description3')}</li>
          </ul>
        </div>
      </article>

      <article class="group relative p-6 rounded-xl border border-border-default bg-bg-primary dark:bg-bg-primary hover:border-primary-500/30 dark:hover:border-primary-500/30 transition-colors">
        <div class="absolute left-6 top-6 w-1 h-12 rounded-full bg-primary-500/60 group-hover:bg-primary-500 transition-colors"></div>
        <div class="pl-4">
          <h3 class="font-display text-xl font-semibold text-text-primary mb-1">
            {t('experience.mobileDeveloper')}
          </h3>
          <p class="text-sm text-text-tertiary mb-4">Noctocode d.o.o / 2024 - 2025</p>
          <ul class="list-disc list-inside list-indent space-y-1.5 text-sm text-text-secondary">
            <li>{t('experience.noctocode.description1')}</li>
            <li>{t('experience.noctocode.description2')}</li>
            <li>{t('experience.noctocode.description3')}</li>
            <li>{t('experience.noctocode.description4')}</li>
          </ul>
        </div>
      </article>

      <article class="group relative p-6 rounded-xl border border-border-default bg-bg-primary dark:bg-bg-primary hover:border-primary-500/30 dark:hover:border-primary-500/30 transition-colors">
        <div class="absolute left-6 top-6 w-1 h-12 rounded-full bg-primary-500/60 group-hover:bg-primary-500 transition-colors"></div>
        <div class="pl-4">
          <h3 class="font-display text-xl font-semibold text-text-primary mb-1">
            {t('experience.leadIOSDeveloper')}
          </h3>
          <p class="text-sm text-text-tertiary mb-4">Global Distress Technologies / 2023-2024</p>
          <ul class="list-disc list-inside list-indent space-y-1.5 text-sm text-text-secondary">
            <li>{t('experience.gdt.description1')}</li>
            <li>{t('experience.gdt.description2')}</li>
            <li>{t('experience.gdt.description3')}</li>
            <li>{t('experience.gdt.description4')}</li>
          </ul>
        </div>
      </article>

      <article class="group relative p-6 rounded-xl border border-border-default bg-bg-primary dark:bg-bg-primary hover:border-primary-500/30 dark:hover:border-primary-500/30 transition-colors">
        <div class="absolute left-6 top-6 w-1 h-12 rounded-full bg-primary-500/60 group-hover:bg-primary-500 transition-colors"></div>
        <div class="pl-4">
          <h3 class="font-display text-xl font-semibold text-text-primary mb-1">
            {t('experience.softwareDeveloper')}
          </h3>
          <p class="text-sm text-text-tertiary mb-4">Dhimahi / 2021-2023</p>
          <ul class="list-disc list-inside list-indent space-y-1.5 text-sm text-text-secondary">
            <li>{t('experience.dhimahi.description1')}</li>
            <li>{t('experience.dhimahi.description2')}</li>
            <li>{t('experience.dhimahi.description3')}</li>
            <li>{t('experience.dhimahi.description4')}</li>
          </ul>
        </div>
      </article>

      <article class="group relative p-6 rounded-xl border border-border-default bg-bg-primary dark:bg-bg-primary hover:border-primary-500/30 dark:hover:border-primary-500/30 transition-colors">
        <div class="absolute left-6 top-6 w-1 h-12 rounded-full bg-primary-500/60 group-hover:bg-primary-500 transition-colors"></div>
        <div class="pl-4">
          <h3 class="font-display text-xl font-semibold text-text-primary mb-1">
            {t('experience.juniorDeveloper')}
          </h3>
          <p class="text-sm text-text-tertiary mb-4">Limitlex / 2019-2021</p>
          <ul class="list-disc list-inside list-indent space-y-1.5 text-sm text-text-secondary">
            <li>{t('experience.limitlex.description1')}</li>
            <li>{t('experience.limitlex.description2')}</li>
            <li>{t('experience.limitlex.description3')}</li>
            <li>{t('experience.limitlex.description4')}</li>
          </ul>
        </div>
      </article>
    </div>
  </div>
</section>

<!-- Other Experience -->
<section id="experience-other" class="py-16 sm:py-24 bg-bg-primary dark:bg-bg-primary">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center gap-3 mb-12">
      <div class="p-2 rounded-lg bg-primary-500/10 dark:bg-primary-500/20">
        <Icon name="FlaskConical" size={24} class="text-primary-500" />
      </div>
      <h2 class="font-display text-2xl sm:text-3xl font-bold text-text-primary">
        {t('experience.otherExperience')}
      </h2>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <article class="p-6 rounded-xl border border-border-default bg-bg-secondary dark:bg-bg-secondary hover:border-primary-500/30 transition-colors">
        <h3 class="font-display text-lg font-semibold text-text-primary mb-2">
          {t('experience.presidenPGD')}
        </h3>
        <p class="text-xs text-text-tertiary mb-3">2019-2023</p>
        <p class="text-sm text-text-secondary">{t('experience.pgd.description')}</p>
      </article>

      <article class="p-6 rounded-xl border border-border-default bg-bg-secondary dark:bg-bg-secondary hover:border-primary-500/30 transition-colors">
        <h3 class="font-display text-lg font-semibold text-text-primary mb-2">
          {t('experience.eventOrganiser')}
        </h3>
        <p class="text-xs text-text-tertiary mb-3">2019-2020</p>
        <p class="text-sm text-text-secondary">{t('experience.skisova.description')}</p>
      </article>

      <article class="p-6 rounded-xl border border-border-default bg-bg-secondary dark:bg-bg-secondary hover:border-primary-500/30 transition-colors">
        <h3 class="font-display text-lg font-semibold text-text-primary mb-2">
          {t('experience.headTechnical')}
        </h3>
        <p class="text-xs text-text-tertiary mb-3">2019</p>
        <p class="text-sm text-text-secondary">{t('experience.headTechnical.description')}</p>
      </article>
    </div>
  </div>
</section>

<!-- Education & Skills -->
<section id="education" class="py-16 sm:py-24 bg-bg-secondary dark:bg-bg-secondary">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center gap-3 mb-12">
      <div class="p-2 rounded-lg bg-primary-500/10 dark:bg-primary-500/20">
        <Icon name="GraduationCap" size={24} class="text-primary-500" />
      </div>
      <h2 class="font-display text-2xl sm:text-3xl font-bold text-text-primary">
        {t('experience.education')}
      </h2>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <article class="p-6 rounded-xl border border-border-default bg-bg-primary dark:bg-bg-primary">
        <h3 class="font-display text-lg font-semibold text-text-primary mb-4">
          {t('experience.education.title')}
        </h3>
        <div class="space-y-4">
          <div class="flex gap-3">
            <Icon name="GraduationCap" size={20} class="text-primary-500 shrink-0 mt-0.5" />
            <div>
              <h4 class="font-medium text-text-primary">{t('experience.fri')}</h4>
              <p class="text-sm text-text-tertiary">{t('experience.university')}</p>
            </div>
          </div>
          <div class="flex gap-3">
            <Icon name="GraduationCap" size={20} class="text-primary-500 shrink-0 mt-0.5" />
            <div>
              <h4 class="font-medium text-text-primary">{t('experience.highSchool')}</h4>
              <p class="text-sm text-text-tertiary">{t('experience.novoMesto')}</p>
            </div>
          </div>
        </div>
      </article>

      <article class="p-6 rounded-xl border border-border-default bg-bg-primary dark:bg-bg-primary">
        <h3 class="font-display text-lg font-semibold text-text-primary mb-4">
          {t('experience.languages.title')}
        </h3>
        <div id="skills" class="space-y-4">
          <div class="flex items-center gap-3">
            <span class="text-2xl">ðŸ‡¬ðŸ‡§</span>
            <div>
              <h4 class="font-medium text-text-primary">{t('experience.english')}</h4>
              <p class="text-sm text-text-tertiary">{t('experience.professionalProficiency')}</p>
            </div>
          </div>
          <div class="flex items-center gap-3">
            <span class="text-2xl">ðŸ‡¸ðŸ‡®</span>
            <div>
              <h4 class="font-medium text-text-primary">{t('experience.slovenian')}</h4>
              <p class="text-sm text-text-tertiary">{t('experience.nativeSpeaker')}</p>
            </div>
          </div>
          <div class="flex items-center gap-3">
            <span class="text-2xl">ðŸ‡­ðŸ‡·</span>
            <div>
              <h4 class="font-medium text-text-primary">{t('experience.croatian')}</h4>
              <p class="text-sm text-text-tertiary">{t('experience.professionalProficiency')}</p>
            </div>
          </div>
        </div>
      </article>
    </div>
  </div>
</section>
